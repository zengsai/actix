<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Address - Actix</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Actix framework guide">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <base href="">

        <link rel="stylesheet" href="book.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="_FontAwesome/css/font-awesome.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        

    </head>
    <body class="light">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li><a href="qs_01.html"><strong aria-hidden="true">1.</strong> Quickstart</a></li><li><a href="qs_02.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><a href="qs_03.html"><strong aria-hidden="true">3.</strong> Actor</a></li><li><a href="qs_04.html" class="active"><strong aria-hidden="true">4.</strong> Address</a></li><li><a href="qs_05.html"><strong aria-hidden="true">5.</strong> Context</a></li><li><a href="qs_06.html"><strong aria-hidden="true">6.</strong> Arbiter</a></li><li><a href="qs_07.html"><strong aria-hidden="true">7.</strong> SyncArbiter</a></li><li><a href="qs_08.html"><strong aria-hidden="true">8.</strong> Stream</a></li><li><a href="qs_09.html"><strong aria-hidden="true">9.</strong> IO helpers</a></li><li><a href="qs_10.html"><strong aria-hidden="true">10.</strong> Supervisor</a></li><li><a href="qs_11.html"><strong aria-hidden="true">11.</strong> Registry</a></li><li><a href="qs_12.html"><strong aria-hidden="true">12.</strong> Helper actors</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Actix</h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="qs_04.html#address" id="address"><h1>Address</h1></a>
<p>Actors communicate exclusively by exchanging messages. The sending actor can
wait for the response. Actors can not be referenced directly, only by their address.
There are two types of addresses, one that references actors that
run in the same thread and one that references actors in a different thread:
non thread safe <a href="../actix/struct.Addr.html"><code>Addr&lt;Unsync, A&gt;</code></a> and thread safe address
<a href="../actix/struct.Addr.html"><code>Addr&lt;Syn, A&gt;</code></a> respectively. <code>A</code> identifies the actor and
<code>Syn</code> and <code>Unsync</code> are types of reference. <code>Syn</code> is thread safe, <code>Unsync</code> is non thread
safe.</p>
<p>There are several ways how to get the address of an actor. The <code>Actor</code> trait provides
two helper methods for starting an actor. Both return the address of the started actor.</p>
<p>Here is an example of <code>Actor::start()</code> method usage. In this example <code>MyActor</code> actor
is asynchronous and is started in the same thread as the caller.</p>
<pre><pre class="playpen"><code class="language-rust"># extern crate actix;
# use actix::prelude::*;
struct MyActor;
impl Actor for MyActor {
    type Context = Context&lt;Self&gt;;
}

# fn main() {
# System::new(&quot;test&quot;);
let addr: Addr&lt;Unsync, _&gt; = MyActor.start();
# }
</code></pre></pre>
<p>Same example, but returned address is thread safe and can be sent to different thread.</p>
<pre><pre class="playpen"><code class="language-rust"># extern crate actix;
# use actix::prelude::*;
struct MyActor;
impl Actor for MyActor {
    type Context = Context&lt;Self&gt;;
}

# fn main() {
# System::new(&quot;test&quot;);
let addr: Addr&lt;Syn, _&gt; = MyActor.start();
# }
</code></pre></pre>
<p>An async actor can get its address from the <code>Context</code> object. The context needs to
implement the <code>AsyncContext</code> trait. <code>AsyncContext::address()</code> provides the actor's address.</p>
<pre><pre class="playpen"><code class="language-rust"># extern crate actix;
# use actix::prelude::*;
struct MyActor;
impl Actor for MyActor {
    type Context = Context&lt;Self&gt;;

    fn started(&amp;mut self, ctx: &amp;mut Context&lt;Self&gt;) {
       let addr: Addr&lt;Syn, _&gt; = ctx.address();
    }
}
# fn main() {}
</code></pre></pre>
<a class="header" href="qs_04.html#mailbox" id="mailbox"><h2>Mailbox</h2></a>
<p>All messages go to the actor's mailbox first, then the actor's execution context
calls specific message handlers. Mailboxes in general are bounded. The capacity is
specific to the context implementation. For the <code>Context</code> type the capacity is set to
16 messages by default and can be increased with
<a href="../actix/struct.Context.html#method.set_mailbox_capacity"><em>Context::set_mailbox_capacity()</em></a>.</p>
<a class="header" href="qs_04.html#message" id="message"><h2>Message</h2></a>
<p>To be able to handle a specific message the actor has to provide a
<a href="../actix/trait.Handler.html"><code>Handler&lt;M&gt;</code></a> implementation for this message.
All messages are statically typed. The message can be handled in an asynchronous
fashion. The actor can spawn other actors or add futures or
streams to the execution context. The actor trait provides several methods that allow
controlling the actor's lifecycle.</p>
<p>To send a message to an actor, the <code>Addr</code> object needs to be used. <code>Addr</code> provides several
ways to send a message.</p>
<ul>
<li>
<p><code>Addr::do_send(M)</code> - this method ignores the actor's mailbox capacity and puts
the message to a mailbox unconditionally. This method does not return the result of
of message handling and fails silently if the actor is gone.</p>
</li>
<li>
<p><code>Addr::try_send(M)</code> - this method tries to send the message immediately. If
the mailbox is full or closed (actor is dead), this method returns a
<a href="../actix/prelude/enum.SendError.html"><code>SendError</code></a>.</p>
</li>
<li>
<p><code>Addr::send(M)</code> - This message returns a future object that resolves to a result
of a message handling process. If the returned <code>Future</code> object is dropped, the
message is cancelled.</p>
</li>
</ul>
<a class="header" href="qs_04.html#recipient" id="recipient"><h2>Recipient</h2></a>
<p>Recipient is a specialized version of an address that supports only one type of message.
It can be used in case the message needs to be sent to a different type of actor.
A recipient object can be created from an address with <code>Addr::recipient()</code>.</p>
<p>For example recipient can be used for a subscription system. In the following example
<code>ProcessSignals</code> actor sends a <code>Signal</code> message to all subscribers. A subscriber can
be any actor that implements the <code>Handler&lt;Signal&gt;</code> trait.</p>
<pre><pre class="playpen"><code class="language-rust"># #[macro_use] extern crate actix;
# use actix::prelude::*;
#[derive(Message)]
struct Signal(usize);

/// Subscribe to process signals.
#[derive(Message)]
struct Subscribe(pub Recipient&lt;Syn, Signal&gt;);

/// Actor that provides signal subscriptions
struct ProcessSignals {
    subscribers: Vec&lt;Recipient&lt;Syn, Signal&gt;&gt;,
}

impl Actor for ProcessSignals {
    type Context = Context&lt;Self&gt;;
}

impl ProcessSignals {

    /// Send signal to all subscribers
    fn send_signal(&amp;mut self, sig: usize) {
        for subscr in &amp;self.subscribers {
           subscr.do_send(Signal(sig));
        }
    }
}

/// Subscribe to signals
impl Handler&lt;Subscribe&gt; for ProcessSignals {
    type Result = ();

    fn handle(&amp;mut self, msg: Subscribe, _: &amp;mut Self::Context) {
        self.subscribers.push(msg.0);
    }
}
# fn main() {}
</code></pre></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="qs_03.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="qs_05.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="qs_03.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="qs_05.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        
        <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-110322332-1', 'auto');
                ga('send', 'pageview');
            }
        </script>
        

        

        

        
        <script src="searchindex.js" type="text/javascript" charset="utf-8"></script>
        
        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

    </body>
</html>
